<div class="container-fluid">
  <script>
    var showGraph = function(id) {
      document.getElementById('id01').style.display = 'block';


      function myPost(url, data, callback) {
        var xmlDoc = getXmlDoc();

        xmlDoc.open('POST', url, true);
        xmlDoc.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        xmlDoc.onreadystatechange = function() {
          if (xmlDoc.readyState === 4 && xmlDoc.status === 200) {
            callback(xmlDoc);
          }
        }

        xmlDoc.send(data);
      }

      myPost("https://lowkey-kshen3778.c9users.io/analyze", id, function(res) {

      });

      var data = {
        labels: ["January", "February", "March",
          "April", "May", "June",
          "July", "Agost", "September",
          "October", "November", "December"
        ],
        datasets: [{
          fillColor: "rgba(252,233,79,0.5)",
          strokeColor: "rgba(82,75,25,1)",
          pointColor: "rgba(166,152,51,1)",
          pointStrokeColor: "#fff",
          data: [65, 68, 75,
            81, 95, 105,
            130, 120, 105,
            90, 75, 70
          ]
        }]
      };

      var myLineChart = new Chart(ctx, {
        type: 'line',
        data: data
      });







    };
  </script>
  <div class="w3-container w3-teal w3-center w3-padding-tiny ">
    <h3>USERS</h3>
  </div>
  <div ng-show="isAuthenticated()">
    <div class="container">
      <div class="row-fluid">
        <h1 id="slackChannelName">#{{slackChannelName}}</h1>
        <button class="w3-btn w3-center" onclick="showGraph('hey')" style="position: relative;left: 45%;margin-bottom: 50px;">Open Modal</button>
      </div>
      <div id="id01" class="w3-modal">
        <div class="w3-modal-content" style="height: 600px;">
          <div class="w3-container">
            <span onclick="document.getElementById('id01').style.display='none'" class="w3-closebtn">&times;</span>
            <canvas id="userMentalHealth" style="left: 0px;position: relative;top: 0px;"></canvas>
            <canvas id="doughnut" class="chart chart-doughnut" chart-data="data" chart-labels="labels">
            </canvas>
          </div>
        </div>
      </div>
    </div>
    <script>
    </script>

    <div class="row" id="userCardsCon">
      <div ng-repeat="x in usersCards">
        <div class="col-sm-2 w3-animate-zoom userCard" style="cursor: pointer;" ng-click="showGraph(x.id)">
          <div class="panel">
            <div class="panel-body">
              <h2 class="w3-center " style="margin-bottom: 100px;">{{x.username}}</h2>
              <p class="number" style="margin-bottom: -145px;">{{x.userScoreCalculated}}</p>
              <canvas id="hi" style="margin-bottom: 50px;" width="100" height="100" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="w3-container w3-teal w3-center w3-padding-tiny ">
      <h3>CHANNELS</h3>
    </div>
    <div class="row" id="channelCardsCon">
      <div ng-repeat="x in channelCards">
        <div class="col-sm-2 w3-animate-zoom channelCard" style="cursor: pointer;" ng-click="showGraph(x.id)">
          <div class="panel">
            <div class="panel-body">
              <h2 class="w3-center " style="margin-bottom: 100px;">{{x.channel}}</h2>
              <p class="number" style="margin-bottom: -145px;">{{x.channelScoreCalculated}}</p>
              <canvas id="hi" style="margin-bottom: 50px;" width="100" height="100" />
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
